<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VideSocial - Video Feed</title>
    <link rel="icon" href="data:;base64,iVBORw0KGgo=">
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600&display=swap" rel="stylesheet">
    <!-- Ionicons for modern icons -->
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
</head>

<body class="feed-body">
    <!-- Navigation Sidebar -->
    <nav class="sidebar" id="sidebar">
        <div class="nav-top">
            <a href="index.html" class="nav-item active" title="Home">
                <ion-icon name="home"></ion-icon>
            </a>
            <a href="#" class="nav-item" title="Upload" onclick="openUploadModal(); return false;">
                <ion-icon name="cloud-upload-outline"></ion-icon>
            </a>
        </div>

        <div class="nav-bottom">
            <a href="#" id="logoutNav" class="nav-item" title="Logout">
                <ion-icon name="log-out-outline"></ion-icon>
            </a>
        </div>
    </nav>

    <div class="video-feed-container" id="feedContainer">
        <!-- Videos will be injected here via JS -->
    </div>

    <!-- Upload Modal -->
    <div id="uploadModal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeUploadModal()">&times;</span>
            <section class="upload-card" style="box-shadow: none; border: none; padding: 0;">
                <h2>Upload Video</h2>
                <form id="uploadForm">
                    <div class="form-group">
                        <label for="title">Video Title</label>
                        <input type="text" id="title" name="title" required placeholder="Enter a catchy title...">
                    </div>

                    <div class="form-group">
                        <label for="description">Description</label>
                        <textarea id="description" name="description" rows="3"
                            placeholder="What's this video about?"></textarea>
                    </div>

                    <div class="form-group file-input-group">
                        <label for="videoFile" class="file-label">
                            <span id="fileLabelText">Choose Video File</span>
                            <input type="file" id="videoFile" name="videoFile" accept="video/*" required>
                        </label>
                    </div>

                    <div class="progress-container" id="progressContainer" style="display: none;">
                        <div class="progress-bar" id="progressBar"></div>
                        <span id="progressText">0%</span>
                    </div>

                    <button type="submit" id="uploadBtn">Upload Video</button>
                    <div id="statusMessage"></div>
                </form>
            </section>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@azure/storage-blob@12.0.0/browser/azure-storage-blob.min.js"></script>
    <script src="app.js"></script>

    <script src="feed.js"></script>
</body>

</html>